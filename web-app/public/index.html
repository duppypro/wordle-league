<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Wordle Challenge</title>

		<!-- update the version number as needed -->
		<script defer src="/__/firebase/9.6.8/firebase-app-compat.js"></script>
		<!-- include only the Firebase features as you need -->
		<script defer src="/__/firebase/9.6.8/firebase-auth-compat.js"></script>
		<script defer src="/__/firebase/9.6.8/firebase-database-compat.js"></script>
		<!-- 
			initialize the SDK after all desired features are loaded, set useEmulator to false
			to avoid connecting the SDK to running emulators.
		-->
		<script defer src="/__/firebase/init.js?useEmulator=false"></script>

		<link rel="stylesheet" href="./css/wordle-challenge.css">
	</head>
	<body class="nightmode">
	<!-- <body class="nightmode" style="background-color:black; color: whitesmoke;"> -->
		<p id="load" class="load-message">Firebase SDK Loading&hellip;</p>
		<script>
			document.addEventListener('DOMContentLoaded', function() {
				const loadEl = document.querySelector('#load');
				// // ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥
				// // The Firebase SDK is initialized and available here!
				try {
					let app = firebase.app();
					let features = [
						'auth', 
						'database', 
					].filter(feature => typeof app[feature] === 'function');
					loadEl.textContent = `Firebase SDK loaded with ${features.join(', ')}`;
					d3.selectAll('.load-message').transition().delay(339).duration(339).style('opacity',0).remove()
				} catch (e) {
					console.error(e);
					loadEl.textContent = 'Error loading the Firebase SDK, check the console.';
				}
			});
		</script>
		<!-- Wordle Challenge goes here -->
		<div id="game-app">
			<header>
				<div class="menu-left">
				</div>
				<div class="title">
					Wordle Challenge
				</div>
				<div class="menu-right">
				</div>
			</header>
			<div id="challenge">
				<div id="challenge-score"></div>
				<div id="challenge-puzzles"></div>
				<div id="challenge-keyboard"></div>
			</div>
		</div>

		<!-- Load third party libraries (firebase loaded inline above) -->
		<script src="https://d3js.org/d3.v7.min.js"></script>
		<!-- Load Wordle scripts -->
		<!-- TODO: switch to using import of local scripts -->
		<script src="./scripts/wordle-set-defaults.js"></script>
		<script src="./scripts/utils.js"></script>
		<script src="./scripts/wordle-utils.js"></script>
		<script src="./scripts/wordle-DOM-UI.js"></script>
		<script src="./scripts/play-wordle-challenge.js"></script>
	</body>
</html>
